# 信号控制

## 环境

- win11
- TESSNG-V2.1.0

## 测试路网

本测试创建了**信号控制**模块所需的所有路网元素用于后续进行单一测试验证，包括：

### 测试基础（在该模块不做测试）

2个路段

1个连接段

### 被测元素（在该模块做测试）

- 2个测试相位
- 6个相位颜色
- 1个测试信号灯组
- 2个信号灯：在路段上；在连接段上

> 测试结论为对原测试路网另存，并在TESSNG界面操作，对以上元素进行单一删除，观察另存数据库对比原数据库各表的变化所得

## 单一验证

### 相位颜色

#### 状态

已验证，结论正确



### 相位

#### 状态

已验证，结论正确

#### 注意

> 删除相位应删除signalPhaseID == 指定相位ID的信号灯记录



### 信号灯组

#### 状态

已验证，结论正确

#### 注意

> 删除信号灯组，应删除在这个信号灯组内所有相位关联的信号灯的记录



### 信号灯

#### 状态

已验证，结论正确



## 全量保存细节BUG

### 崩溃

- 当只有一个信号灯组，删除信号灯组的所有相位后，设置信号灯，程序会崩

### 更新

- 更新信号灯颜色信息，点击取消，颜色编辑和信号灯组编辑都点取消，实际信号灯的颜色信息已经改掉，显示的也是改掉的信息，仿真时也是改掉的
- 更新信号灯颜色信息后，需要在关联的信号灯处进入编辑窗口点击一下才会刷新
- 删除相位或整个信号灯组之后，关联的信号灯仍按照之前的相位信息进行仿真，在重新打开后信号灯消失，但数据库仍存在关联的信号灯，此时再次保存，则信号灯数据从数据库消失